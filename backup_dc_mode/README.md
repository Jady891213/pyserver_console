# Python Web 编辑器

一个基于Web的Python代码编辑器，支持执行Python脚本并实时显示结果。

## 主要功能

- 基于Web的Python代码编辑器，支持语法高亮
- 执行Python脚本并显示执行结果
- 支持自定义运行参数
- 显示stdout和stderr输出
- 执行时间跟踪
- 折叠/展开JSON结果
- 复制功能
- 代码模板

## 系统要求

- Python 3.6+
- 浏览器: Chrome, Firefox, Safari 或 Edge

## 安装

1. 克隆项目或下载源代码
2. 确保已安装Python 3.6+和pip
3. 给启动脚本添加执行权限:

```bash
chmod +x start.sh
```

## 启动服务

一键启动脚本（集成前后端）:

```bash
./start.sh
```

这个脚本提供多种智能功能:
- 自动寻找可用端口，避免端口冲突问题
- 自动更新前端API地址，匹配后端端口
- 自动安装所需依赖
- 启动后端API服务和前端Web服务
- 自动打开浏览器（Mac系统）
- 监控服务运行状态
- 优雅终止所有服务

按 `Ctrl+C` 可随时终止所有服务。

## 端口配置

该脚本默认尝试使用以下端口:
- 后端API: 5566
- 前端Web: 8088

如果这些端口已被占用，脚本会自动寻找可用端口。

## 使用说明

1. 在编辑器中编写Python代码
2. 点击左侧的"运行参数"图标来设置运行参数
3. 点击"运行"按钮执行代码
4. 在"控制台"标签查看输出内容
5. 在"结果"标签查看JSON格式的返回结果

## 编写脚本说明

编写的Python脚本应当包含一个名为`main`的函数:

```python
def main(params):
    # 在这里编写您的代码
    # params 参数包含了在运行参数中设置的值
    
    # 处理数据...
    
    # 返回结果 (将显示在"结果"标签中)
    return {
        "your_result": "your_value"
    }
```

## 故障排除

1. 如果脚本执行出错:
   - 使用`./start.sh`重新启动服务
   - 检查控制台中是否有错误信息
   - 确保main函数正确定义并返回有效结果

2. 如果连接不上后端:
   - 确保没有防火墙阻止本地连接
   - 检查脚本输出中显示的实际端口号
   - 尝试在浏览器中直接访问后端API地址

## 关于

- 作者: Claude（优化）
- 版本: 1.0.0
- 更新日期: 2024-04-11

© 2024 PyWeb编辑器项目组。保留所有权利。 